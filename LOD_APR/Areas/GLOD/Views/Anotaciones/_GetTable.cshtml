@model IEnumerable<LOD_APR.Areas.GLOD.ModelsViews.AnotaTablaView>
@using LOD_APR.Areas.GLOD.ModelsViews;

<div class="table-responsive">
    <table class="table table-sm table-condensed table-hover" :id="tableid">
        <thead>
            <tr>
                <th></th>
                <th ></th>
                <th><center>Folio</center></th>
                <th style="width:35px">Remitente</th>
                <th>Título</th>
                <th><center>Estado</center></th>
                <th><center>F. Publicación</center></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr class="@item.claseLeida">
                    <td class="@item.claseLeida" width="30">
                        <a><i id="@item.IdAnotacion" class="@item.claseDestacada" data-toggle="tooltip" data-placement="top"></i></a>
                    </td>
                    <td class="@item.claseLeida" width="90">
                        <div class="btn-group text-right">
                            <a href="/GLOD/Anotaciones/Edit/@item.IdAnotacion" role="button" class="btn btn-xs btn-warning"><i class="fa fa-edit"></i> Ver</a>
                        </div>
                    </td>
                    <td class="check-mail @item.claseLeida" width="50">
                        <center>
                            @{ 
                                string correlativo = "";
                                if (item.Correlativo.Length == 1)
                                {
                                    correlativo = "0" + item.Correlativo;
                                }
                                else {
                                    correlativo = item.Correlativo;
                                }
                            }
                            <span style="color:darkgrey">@item.Correlativo</span>
                        </center>
                    </td>
                    <td class="check-mail @item.claseLeida" width="100">
                        @if (!String.IsNullOrEmpty(item.DatosRemitente.ImgRemitente))
                        {
                            <center> <img data-toggle="tooltip" data-placement="bottom" title="@item.DatosRemitente.Nombre" class="img-circle" src="~/Images/Contactos/@item.DatosRemitente.ImgRemitente?@DateTime.Now.Ticks" style="width:32px;height:32px;margin-right:5px;"></center>
                        }
                        else
                        {
                            <center> <h5 href="#" data-letters="@item.DatosRemitente.InicialesRemitente" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="@item.DatosRemitente.Nombre" data_placement="bottom" class="m-b-sm data-letters-orange" style="margin-top:0px;margin-bottom:0px;margin-right:5px;vertical-align: middle;"></h5>  </center>
                        }
                    </td>
                    <td class="mail-subject  @item.claseLeida">
                        @item.Titulo
                    </td>
                    <td class="check-mail  @item.claseLeida" width="60">
                        <center>
                            <i class="fa fa-circle text-@item.EstadoFirma.claseFirma" data-toggle="tooltip" data-placement="bottom" title="@item.EstadoFirma.TipoFirma"></i>
                            @*@if (item.Estado == 1)
                    {
                        <i class="fa fa-circle text-muted" data-toggle="tooltip" data-placement="bottom" title="No Publicada"></i>
                    }
                    else if (item.Estado == 2 && item.SolicitudVB && item.SolicitudRest && item.TieneRespuesta == 0 && item.VistosBuenosPendientes > 0)
                    {
                        <i class="fa fa-circle text-warning" data-toggle="tooltip" data-placement="bottom" title="Pend. Respuesta & A.R."></i>
                    }
                    else if (item.Estado == 2 && item.SolicitudVB && (!item.SolicitudRest || item.TieneRespuesta > 0))
                    {
                        <i class="fa fa-circle text-warning" data-toggle="tooltip" data-placement="bottom" title="Pend. de A.R."></i>
                    }
                    else if (item.Estado == 2 && item.SolicitudRest && item.VistosBuenosPendientes == 0)
                    {
                        <i class="fa fa-circle text-warning" data-toggle="tooltip" data-placement="bottom" title="Pend. de Respuesta"></i>
                    }
                    else if (item.Estado == 3)
                    {
                        <i class="fa fa-circle text-danger" data-toggle="tooltip" data-placement="bottom" title="Pend. Cierre"></i>
                    }
                    else
                    {
                        <i class="fa fa-circle text-success" data-toggle="tooltip" data-placement="bottom" title="Cerrada"></i>
                    }*@
                        </center>

                    </td>
                    <td class="mail-date  @item.claseLeida" width="140">
                        <center>
                            <span style="color:darkgrey">@item.FechaPublicacion</span>
                        </center>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>